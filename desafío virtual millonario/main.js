
const Home = `
  <div class="home">
    <img class="quest-icon" src="assets/Icon-1.png" />
    <img class="dollar-icon" src="assets/Icon-2.png" />
    <img class="pc-icon" src="assets/Icon-3.png" />
    <button type="button" class="button-home">
      <img class="button-icon" src="assets/Button.png" />
    </button>
  </div>
`;



const Game = `
  <div id="game">
 
  <div id="dato-curioso">
  <div style="display:flex;width:100%;justify-content:space-evenly;align-items:center">
  <div class="chart"></div>

  <img src="" style="max-width:250px"/>
  </div>
  <p></p>
  </div> 
  
  <div id="pista">
  <button id="closePista">X</button
  <p></p>
  </div>

    <div id="level1" class="screen active">
    <div class="topInformation">
    <p class="point">Puntos: <span class="points">0</span></p>
    <h1>Nivel 1</h1>
    <p class="time">Tiempo: <span class="timer" id="timer1">120</span> segundos</p>
    </div>
       <div class="comodines">
    <button class="button-blue" id="cincuenta1">50:50</button>
    <button class="button-blue" id="pista1">Pista</button>
    </div>
      <div >
      <h2 class="pregunta" id="pregunta1"></h2>
      </div>
      <div class="answers" id="answers1" >
      </div>
      <p></p>
      </div>
      
 <div id="level2" class="screen">
    <div class="topInformation">
    <p class="point">Puntos: <span class="points">0</span></p>
    <h1>Nivel 2</h1>
    <p class="time">Tiempo: <span class="timer" id="timer2">120</span> segundos</p>
    </div>
       <div class="comodines">
    <button class="button-blue" id="cincuenta2">50:50</button>
    <button class="button-blue" id="pista2">Pista</button>
    </div>
      <div >
      <h2 class="pregunta" id="pregunta2"></h2>
      </div>
      <div class="answers" id="answers2" >
      </div>
      <p></p>
      </div>

    <div id="level3" class="screen">
    <div class="topInformation">
    <p class="point">Puntos: <span class="points">0</span></p>
    <h1>Nivel 3</h1>
    <p class="time">Tiempo: <span class="timer" id="timer3">120</span> segundos</p>
    </div>
       <div class="comodines">
    <button class="button-blue" id="cincuenta3">50:50</button>
    <button class="button-blue" id="pista3">Pista</button>
    </div>
      <div >
      <h2 class="pregunta" id="pregunta3"></h2>
      </div>
      <div class="answers" id="answers3" >
      </div>
      <p></p>
      </div>

       <div id="level4" class="screen">
    <div class="topInformation">
    <p class="point">Puntos: <span class="points">0</span></p>
    <h1>Nivel 4</h1>
    <p class="time">Tiempo: <span class="timer" id="timer4">120</span> segundos</p>
    </div>
       <div class="comodines">
    <button class="button-blue" id="cincuenta4">50:50</button>
    <button class="button-blue" id="pista4">Pista</button>
    </div>
      <div >
      <h2 class="pregunta" id="pregunta4"></h2>
      </div>
      <div class="answers" id="answers4" >
      </div>
      <p></p>
      </div>


        <div id="level5" class="screen">
    <div class="topInformation">
    <p class="point">Puntos: <span class="points">0</span></p>
    <h1>Nivel 5</h1>
    <p class="time">Tiempo: <span class="timer" id="timer5">120</span> segundos</p>
    </div>
       <div class="comodines">
    <button class="button-blue" id="cincuenta5">50:50</button>
    <button class="button-blue" id="pista5">Pista</button>
    </div>
      <div >
      <h2 class="pregunta" id="pregunta5"></h2>
      </div>
      <div class="answers" id="answers5" >
      </div>
      <p></p>
      </div>


      <div id="level6" class="screen">
    <div class="topInformation">
    <p class="point">Puntos: <span class="points">0</span></p>
    <h1>Nivel 6</h1>
    <p class="time">Tiempo: <span class="timer" id="timer6">120</span> segundos</p>
    </div>
       <div class="comodines">
    <button class="button-blue" id="cincuenta6">50:50</button>
    <button class="button-blue" id="pista6">Pista</button>
    </div>
      <div >
      <h2 class="pregunta" id="pregunta6"></h2>
      </div>
      <div class="answers" id="answers6" >
      </div>
      <p></p>
      </div>

    <div id="level7" class="screen">
    <div class="topInformation">
    <p class="point">Puntos: <span class="points">0</span></p>
    <h1>Nivel 7</h1>
    <p class="time">Tiempo: <span class="timer" id="timer7">120</span> segundos</p>
    </div>
       <div class="comodines">
    <button class="button-blue" id="cincuenta7">50:50</button>
    <button class="button-blue" id="pista7">Pista</button>
    </div>
      <div >
      <h2 class="pregunta" id="pregunta7"></h2>
      </div>
      <div class="answers" id="answers7" >
      </div>
      <p></p>
      </div>

      <div id="level8" class="screen">
    <div class="topInformation">
    <p class="point">Puntos: <span class="points">0</span></p>
    <h1>Nivel 8</h1>
    <p class="time">Tiempo: <span class="timer" id="timer8">120</span> segundos</p>
    </div>
       <div class="comodines">
    <button class="button-blue" id="cincuenta8">50:50</button>
    <button class="button-blue" id="pista8">Pista</button>
    </div>
      <div >
      <h2 class="pregunta" id="pregunta8"></h2>
      </div>
      <div class="answers" id="answers8" >
      </div>
      <p></p>
      </div>

      <div id="level9" class="screen">
    <div class="topInformation">
    <p class="point">Puntos: <span class="points">0</span></p>
    <h1>Nivel 9</h1>
    <p class="time">Tiempo: <span class="timer" id="timer9">120</span> segundos</p>
    </div>
       <div class="comodines">
    <button class="button-blue" id="cincuenta9">50:50</button>
    <button class="button-blue" id="pista9">Pista</button>
    </div>
      <div >
      <h2 class="pregunta" id="pregunta9"></h2>
      </div>
      <div class="answers" id="answers9" >
      </div>
      <p></p>
      </div>

     <div id="level10" class="screen">
    <div class="topInformation">
    <p class="point">Puntos: <span class="points">0</span></p>
    <h1>Nivel 10</h1>
    <p class="time">Tiempo: <span class="timer" id="timer10">120</span> segundos</p>
    </div>
       <div class="comodines">
    <button class="button-blue" id="cincuenta10">50:50</button>
    <button class="button-blue" id="pista10">Pista</button>
    </div>
      <div >
      <h2 class="pregunta" id="pregunta10"></h2>
      </div>
      <div class="answers" id="answers10" >
      </div>
      <p></p>
      </div>

  </div>
`;
function loadHome() {
  document.querySelector('#app').innerHTML = Home;
  document.querySelector('.button-home').addEventListener('click', () => {
    startGame();
  });
}

function startGame() {
  document.querySelector('#app').innerHTML = Game;
  initializeGame();
}

function initializeGame() {
  let points = 0;
  let timer = 120;
  let currentLevel = 1;
  let interval;

  function startTimer() {
    clearInterval(interval);
    interval = setInterval(() => {
      if (timer > 0) {
        timer--;
        document.getElementById('timer'+currentLevel).innerText = timer;
      } else {
        clearInterval(interval);
        alert('Tiempo agotado! Juego terminado.');
        resetGame();
      }
    }, 1000);
  }
  const setAnswers = ()=>{
    const levelDiv = document.getElementById('level'+currentLevel);
    
    const h1Element = levelDiv.querySelector('h1');
    console.log(h1Element.textContent);
    const h1Text = h1Element.textContent;
        console.log(h1Text); 
        const levels = [
          {
            nivel: "Nivel 1",
            pregunta: "¿Qué es un teclado?",
            pista: "Es un dispositivo que se utiliza para ingresar información en una computadora",
            opciones: ["a) Un dispositivo de entrada", "b) Un dispositivo de salida", "c) Un dispositivo de almacenamiento", "d) Un dispositivo de comunicación"],
            respuesta: "a) Un dispositivo de entrada",
            datoCurioso:"Un dato curioso sobre los teclados es que el diseño QWERTY, que es el más común en los teclados modernos, fue creado en la década de 1870 para las máquinas de escribir. Se diseñó para reducir el atasco de las teclas al separar las letras que se escriben con frecuencia juntas. Aunque hoy en día no hay necesidad de este diseño en las computadoras, QWERTY se ha mantenido como el estándar debido a la inercia del uso y la familiaridad de los usuarios.",
            imageCuriosa:"assets/curiosidades/1.png",
          
          },
          {
            nivel: "Nivel 2",
            pregunta: "¿Qué componente de hardware se utiliza para mostrar información visual en una computadora?",
            pista: "Es la pantalla donde se muestran las imágenes y el texto",
            opciones: ["a) Monitor", "b) Teclado", "c) Mouse", "d) Impresora"],
            respuesta: "a) Monitor",
            datoCurioso:"Un dato curioso sobre el monitor es que los primeros monitores eran de tubo de rayos catódicos (CRT), que eran grandes y pesados. Estos monitores funcionaban disparando electrones en un tubo de vidrio, lo que producía imágenes en la pantalla.",
            imageCuriosa:"assets/curiosidades/2.png",
          },
          {
            nivel: "Nivel 3",
            pregunta: "¿Qué significa la sigla USB?",
            pista: "Es un tipo de conexión común para dispositivos externos",
            opciones: ["a) Universal Serial Bus", "b) United States of America", "c) Ultra Speed Bandwidth", "d) User System Backup"],
            respuesta: "a) Universal Serial Bus",
            datoCurioso:"Un dato curioso sobre las USB es que su creador, Ajay Bhatt, no obtuvo regalías por su invención. La tecnología USB fue desarrollada mientras trabajaba para Intel, y como parte de su trabajo, no recibió compensación adicional. Sin embargo, su invención revolucionó la forma en que conectamos dispositivos y ha sido adoptada globalmente.",
            imageCuriosa:"assets/curiosidades/3.png",
          },
          {
            nivel: "Nivel 4",
            pregunta: "¿Cuál de los siguientes se utiliza para almacenar información permanentemente en una computadora?",
            pista: "Es un componente interno que guarda los datos incluso cuando la computadora está apagada",
            opciones: ["a) Disco duro", "b) Memoria RAM", "c) Unidad flash USB", "d) Teclado"],
            respuesta: "a) Disco duro",
            datoCurioso:"Un dato curioso sobre los discos duros es que el primer disco duro, creado por IBM en 1956, tenía un tamaño de 5 megabytes y ocupaba el espacio de dos refrigeradores. ¡Hoy en día, puedes llevar terabytes de almacenamiento en un dispositivo que cabe en tu bolsillo!",
            imageCuriosa:"assets/curiosidades/4.png",

          },
          {
            nivel: "Nivel 5",
            pregunta: "¿Qué es un archivo?",
            pista: "Es un conjunto de datos almacenado en la computadora",
            opciones: ["a) Una carpeta para organizar documentos", "b) Un tipo de letra utilizado en documentos", "c) Una unidad de almacenamiento externa", "d) Una colección de información guardada en una computadora"],
            respuesta: "d) Una colección de información guardada en una computadora",
            datoCurioso:"Un dato curioso sobre los archivos en una computadora es que el sistema de archivos más antiguo, el FAT (File Allocation Table), fue desarrollado por Microsoft en 1977 para disquetes. A pesar de su antigüedad, versiones de FAT todavía se utilizan hoy en día en tarjetas de memoria y unidades flash debido a su simplicidad y amplia compatibilidad.",
            imageCuriosa:"assets/curiosidades/5.png",
          },
          {
            nivel: "Nivel 6",
            pregunta: "¿Cuál de las siguientes opciones es una red social popular?",
            pista: "Es un sitio web donde las personas pueden conectarse e interactuar entre sí",
            opciones: ["a) Facebook", "b) Microsoft Word", "c) Adobe Photoshop", "d) Google Chrome"],
            respuesta: "a) Facebook",
            datoCurioso:"Un dato curioso sobre Facebook es que el primer rostro que apareció en la plataforma fue el de Al Pacino. En los primeros días de la red social, una imagen pixelada del actor se usaba como parte del diseño de la página principal.",
            imageCuriosa:"assets/curiosidades/6.png",

          },
          {
            nivel: "Nivel 7",
            pregunta: "¿Qué es un navegador web?",
            pista: "Se utiliza para acceder a sitios web en Internet",
            opciones: ["a) Un programa que permite enviar y recibir correos electrónicos", "b) Un programa que permite crear presentaciones", "c) Un programa que permite acceder a sitios web en Internet", "d) Un programa que permite editar imágenes"],
            respuesta: "c) Un programa que permite acceder a sitios web en Internet",
            datoCurioso:"Un dato curioso sobre los navegadores web es que el primer navegador, llamado WorldWideWeb (más tarde renombrado a Nexus), fue creado en 1990 por Tim Berners-Lee. Fue tanto un navegador como un editor de páginas web, concebido para ser una herramienta completa para explorar y desarrollar la web.",
            imageCuriosa:"assets/curiosidades/7.png",

          },
          {
            nivel: "Nivel 8",
            pregunta: "¿Cuál de los siguientes es un sistema operativo?",
            pista: "Es el sistema operativo principal que traen las Canaimas.",
            opciones: ["a) Linux", "b) Microsoft Office", "c) Adobe Illustrator", "d) Mozilla Firefox"],
            respuesta: "a) Linux",
            datoCurioso:"Un dato curioso sobre Linux es que el proyecto comenzó como un hobby. Linus Torvalds, su creador, lo inició en 1991 mientras era estudiante universitario en Finlandia. Originalmente, solo lo veía como una forma de experimentar y aprender, pero hoy en día, Linux impulsa la mayoría de los servidores en el mundo, así como muchos dispositivos y sistemas operativos.",
            imageCuriosa:"assets/curiosidades/8.png",
          },
          {
            nivel: "Nivel 9",
            pregunta: "¿Cuál de los siguientes es un programa de procesamiento de textos?",
            pista: "Se utiliza para crear y editar documentos de texto.",
            opciones: ["a) Microsoft Word", "b) Microsoft Excel", "c) Microsoft PowerPoint", "d) Adobe Photoshop"],
            respuesta: "a) Microsoft Word",
            datoCurioso:'Un dato curioso sobre Microsoft Word es que su primera versión fue lanzada en 1983 para el sistema operativo MS-DOS. Inicialmente, se llamaba "Multi-Tool Word," y fue uno de los primeros procesadores de texto en ofrecer la función de "vista previa de impresión."',
            imageCuriosa:"assets/curiosidades/9.png",
          },
          {
            nivel: "Nivel 10",
            pregunta: "¿Qué es un virus informático?",
            pista: "Viaja de un sistema a otro sin pedir permiso, buscando debilidades para infiltrarse.",
            opciones: ["a) Un programa que ayuda a proteger la computadora", "b) Un dispositivo de entrada", "c) Un programa malicioso que puede dañar o alterar la información en una computadora", "d) Una unidad de almacenamiento externa"],
            respuesta: "c) Un programa malicioso que puede dañar o alterar la información en una computadora",
            datoCurioso:'Un dato curioso sobre los virus informáticos es que el primer virus informático creado específicamente para MS-DOS fue "Elk Cloner," desarrollado en 1982 por un estudiante de secundaria, Richard Skrenta. Este virus infectaba disquetes y mostraba un poema en la pantalla después de 50 arranques del sistema.',
            imageCuriosa:"assets/curiosidades/10.png",
          },
          
        ];
        let dataFound = levels.find((el)=>el.nivel === h1Text)
        console.log(dataFound);
        
    const answersElement = document.getElementById('answers'+currentLevel);

    const questionElement = document.getElementById('pregunta'+currentLevel);

    let buttonCincuenta = document.getElementById(`cincuenta${currentLevel}`);

    let buttonPista = document.getElementById(`pista${currentLevel}`);
    
    const closePista = document.getElementById('closePista');
    let textoPista = document.getElementById('textoPista')
      console.log(textoPista);
    closePista.addEventListener('click', (e) => {
    const Pista = document.getElementById('pista');

   return Pista.style.display = "none"
      });
    buttonCincuenta.addEventListener('click', (e) => {
      return  cincuenta(dataFound);
      });
      buttonPista.addEventListener('click', (e) => {
        return  pista(dataFound.pista);
        });
    if(answersElement && questionElement){
      questionElement.textContent = dataFound.pregunta
      let i = 0
      dataFound.opciones.forEach((option) => {
        const button = document.createElement('button');
        button.style.transform = `rotate(0deg)`
        i++
        button.addEventListener('click', (e) => {
        return  nextLevel(dataFound,e.currentTarget.textContent);
        });
        button.textContent = option;
        answersElement.appendChild(button);
      });
      
      console.log("hola");
    }
  }
    
  function nextLevel(data,answer) {
    
    if(data.respuesta === answer){
            timer = 120

        const Dato = document.getElementById('dato-curioso');
        Dato.style.display = "flex";
        
        let p = Dato.querySelectorAll('p');
        let img = Dato.querySelectorAll('img');
        if (p) {
          p[0].textContent = data.datoCurioso
        } else {
          console.log("Element with ID 'dato-curioso' not found.");
        }
        if (img) {
          console.log(img);
          img[0].src = data.imageCuriosa
        } else {
            console.log("Element with ID 'dato-curioso' not found.");
        }
        setTimeout(() => {
          Dato.style.display = "none";
           if (currentLevel < 10 ) {
      console.log("si");
      
      document.getElementById(`level${currentLevel}`).classList.remove('active');
       currentLevel++;
      document.getElementById(`level${currentLevel}`).classList.add('active');
      timer = 120;
       startTimer();
      setAnswers()
      let elementsT = document.getElementsByClassName('points');
    
      points = points +1
      for (let i = 0; i < elementsT.length; i++) {
        elementsT[i].innerText = points;}
    } else if(currentLevel === 10) {
   
      let elementsT = document.getElementsByClassName('points');
    
      points = points +1
      for (let i = 0; i < elementsT.length; i++) {
        elementsT[i].innerText = points;}
        endGame();

      }
        }, 20000);
    }else{
      endGame();

    }
 
   
  }

  function endGame() {
    clearInterval(interval);
    alert(`Juego terminado! Has obtenido ${points} puntos.`);
    resetGame();
  }
  function cincuenta(found) {
    if (found) {
      let button = document.getElementById(`cincuenta${currentLevel}`);
      if (button.disabled) {
        return;
      } else {
        button.disabled = true;
        const answersElement = document.getElementById(
          "answers" + currentLevel
        );
        const buttons = answersElement.querySelectorAll("button");

        const buttonIndexes = Array.from(
          { length: buttons.length },
          (_, index) => index
        );

        const validIndexes = buttonIndexes.filter(
          (index) => buttons[index].textContent !== found.respuesta
        );

        const randomIndexes = shuffle(validIndexes).slice(0, 2);

        randomIndexes.forEach((index) => {
          buttons[index].disabled = true;
        });
        function shuffle(array) {
          for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
          }
          return array;
        }
      }
      return;
    }
  }
  function pista(pista) {
    if (pista) {
        const Pista = document.getElementById('pista');
        Pista.style.display = "flex";
        console.log(pista);

        let p = Pista.querySelectorAll('p');
        if (p) {
          p[0].textContent = pista
        } else {
            console.log("Element with ID 'textoPista' not found.");
        }
    }
}

  function resetGame() {
    points = 0;
    timer = 120;
    let elements = document.getElementsByClassName('points');
    
    for (let i = 0; i < elements.length; i++) {
      elements[i].innerText = points;
    }
    
    let elementsT = document.getElementsByClassName('timer');
    
    for (let i = 0; i < elements.length; i++) {
      elementsT[i].innerText = timer;}
      document.getElementById('level'+currentLevel).classList.remove('active');
      document.getElementById('level1').classList.add('active');
      currentLevel = 1;
    loadHome(); // Vuelve a la pantalla principal
  }



  // Inicializa el primer nivel y el timer
  document.getElementById('level1').classList.add('active');
  startTimer();
  setAnswers()

}

// Carga inicial de la pantalla de inicio
loadHome();